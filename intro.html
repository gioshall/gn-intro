<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta id="viewport" name="viewport" content="user-scalable=no, target-densitydpi=device-dpi">
	<title>intro</title>
</head>
<link rel="stylesheet" href="css/style.css" class="css">
<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
<script>
if (screen.width <= 640) {
    $("#viewport").attr("content", "width=640");
} else {
	$("#viewport").attr("content", "width=1024");
}
</script>
<body>
<div class="dbox"><span>看來你已經準備好了。<button>確 定</button></span></div>
<div class="wrapper">
	<div class="container">
		<div class="intro">
			<div class="wmark">GameNow 雲端遊樂器</div>
			<div class="flipsnap">
				<div class="item">
					<div class="logo"><img src="img/logo-u.svg"></div>					
					<div class="text tinner">
					<h1>你的電視遊樂器，盡在指間</h1>
						車、槍、球！精心挑選，為您的 iPhone / iPad 而生。
					</div>					
				</div>
				<div class="item intro01">
					<div class="layer intro01a"></div>
					<div class="layer intro01b"></div>
					<div class="text tinner">
					<h1>掌上操作，全面進化</h1>
						一切都恰如其分的在你的螢幕上，準備和你並肩作戰。
					</div>
				</div>
				<div class="item intro02">
					<div class="layer intro02a"></div>
					<div class="layer intro02b"></div>
					<div class="text tinner">
					<h1>想玩、就玩</h1>
						隨點隨玩，遊戲自動推送到您的手機上，不需等待下載。
					</div>
				</div>
				<div class="item intro03">
					<div class="layer intro03a"></div>
					<div class="layer intro03b"></div>
					<div class="text tinner">
					<h1>歡樂殿堂</h1>
						超級大作重現，iPhone / iPad 就是你的最新遊戲主機
					</div>
				</div>
				<!-- <div class="item intro04">
					<div class="layer intro04a"></div>
					<div class="layer intro04b"></div>
					<div class="text tinner">
					<h1>物超所值的遊戲組合</h1>
						可選擇單獨購買或是超值的遊戲組合。不需昂貴花費，<br>也能盡享遊戲樂趣。
					</div>
				</div>
				<div class="item ani01">
					<div class="layer intro-tip01a"></div>
					<div class="layer intro-tip-screen">
						<div class="innerui"><span class="uiclick"></span></div>
					</div>
					<div class="layer intro-tip01c left">切換選單</div>
					<div class="layer intro-tip01c right">回上一頁</div>
					<div class="layer intro-tip01b"></div>
					<div class="guide">貼心操作app教學</div>
				</div> -->
				<div class="item ani02">
					<div class="layer intro-tip02a"></div>
					<div class="layer intro-tip02b"></div>
					<h3>搖晃可重新連結服務</h3>
					<div class="guide">請搖晃裝置開始GameNow</div>
				</div>
			</div>

			<div class="pointer">
			<span class="current"></span>
			<span class=""></span>
			<span class=""></span>
			<span class=""></span>
			<span class=""></span>
			<!-- <span class=""></span>
			<span class=""></span> -->
		    </div>

		</div>
		<!-- <div class="entrance">
			<img src="img/logo.svg" class="logo">
			<div class="btn-start"><img src="img/icon-start.svg"><span>開始遊戲</span></div>
		</div> -->
	</div>
</div>
<script src="js/flipsnap.min.js"></script>
<script src="js/shake.js"></script>
<script>
	var $pointer = $('.pointer span');
	var flipsnap = Flipsnap('.flipsnap', {
		distance: 620
	});
	flipsnap.element.addEventListener('fspointmove', function() {
		$pointer.filter('.current').removeClass('current');
		$pointer.eq(flipsnap.currentPoint).addClass('current');
	}, false);

	// animation
	flipsnap.element.addEventListener('fstouchend', function(ev) {
		var iPage = JSON.stringify(ev.newPoint);
		console.log(iPage);
		for (i = 0; i < 4; i++) {
			if (iPage == i) {
				$('.intro0' + i).addClass('introani');
			}
		}
		if (iPage == 0) {
			$('.item').removeClass('introani');
		};
		if (iPage == 4) {
			$('.ani02').addClass('shkani');
			window.addEventListener('shake', shakeEventDidOccur, false);

			function shakeEventDidOccur() {
				$('.dbox').show();
				$('.dbox button').click(function(){
					window.location.href = 'http://www.xbox.com/zh-TW/xbox-one/meet-xbox-one?xr=shellnav';
				})				
			}
		} else {
			$('.ani02').removeClass('shkani');
			function shakeEventDidOccur() {
				$('.dbox').hide();				
			}
		}
	}, false);

</script>	
</body>
</html>