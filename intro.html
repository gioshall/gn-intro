<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=640, user-scalable=no, target-densitydpi=device-dpi">
	<title>intro</title>
</head>
<link rel="stylesheet" href="css/style.css" class="css">
<body>

<div class="wrapper">
	<div class="container">
		<div class="intro">
			
			<div class="flipsnap">
				<div class="item">
					<img src="img/logo-u.svg">
					<div class="text">
					<h1>經典遊戲大作，一次網羅</h1>
					<h2>一次蒐集你最想玩的。</h2>
						不論是賽車﹑ 射擊﹑或球類遊戲，最夯的熱門遊戲，<br>為你精心挑選。
					</div>					
				</div>
				<div class="item intro01">
					<div class="layer intro01a"></div>
					<div class="layer intro01b"></div>
					<div class="text tinner">
					<h1>超直覺虛擬按鍵設計</h1>
					<h2>新世代遊戲主機操作體驗，完美重現。</h2>
						操作好上手，一切就是這麼自然。隨心所欲，讓遊戲<br>更好玩。
					</div>
				</div>
				<div class="item intro02">
					<div class="layer intro02a"></div>
					<div class="layer intro02b"></div>
					<div class="text tinner">
					<h1>無縫接軌，走到哪玩到哪</h1>
					<h2>隨時隨地都能獲得精彩的小小娛樂。</h2>
						不須一再下載， 遊戲已自動推送到你所有裝置上。<br>從晨間咖啡到傍晚通勤，都有精彩遊戲伴隨。
					</div>
				</div>
				<div class="item intro03">
					<div class="layer intro03a"></div>
					<div class="layer intro03b"></div>
					<div class="text tinner">
					<h1>高品質遊戲，完美呈現</h1>
					<h2>享受無懈可擊的遊戲品質。</h2>
						每款遊戲都無比鮮麗生動，既流暢又真實，讓你享受<br>全方位的高品質遊戲體驗。
					</div>
				</div>
				<div class="item intro04">
					<div class="layer intro04a"></div>
					<div class="layer intro04b"></div>
					<div class="text tinner">
					<h1>物超所值的遊戲組合</h1>
					<h2>輕鬆選購，玩心大放。</h2>
						可選擇單獨購買或是超值的遊戲組合。不需昂貴花費，<br>也能盡享遊戲樂趣。
					</div>
				</div>
				<div class="item ani01">
					<div class="layer intro-tip01a"></div>
					<div class="layer intro-tip-screen">
						<div class="innerui"><span class="uiclick"></span></div>
					</div>
					<div class="layer intro-tip01c left">切換選單</div>
					<div class="layer intro-tip01c right">回上一頁</div>
					<div class="layer intro-tip01b"></div>
					<div class="guide">現在就請您左滑試試！</div>
				</div>
				<div class="item ani02">
					<div class="layer intro-tip02a"></div>
					<div class="layer intro-tip02b"></div>
					<h3>搖晃可重新連結服務</h3>
					<div class="guide">現在就請您搖晃裝置!</div>
				</div>
			</div>

			<div class="pointer">
			<span class="current"></span>
			<span class=""></span>
			<span class=""></span>
			<span class=""></span>
			<span class=""></span>
		    </div>

		</div>
		<div class="entrance">
			<img src="img/logo.svg" class="logo">
			<div class="btn-start"><img src="img/icon-start.svg"><span>開始遊戲</span></div>
		</div>
	</div>
</div>

<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
<script src="js/flipsnap.min.js"></script>
<script src="js/shake.js"></script>
<script>

$(document).ready(function () {
     $(window)    
          .bind('orientationchange', function(){
               if (window.orientation % 180 == 0){
                   $(document.body).css("-webkit-transform-origin", "")
                       .css("-webkit-transform", "");               
               } 
               else {                   
                   if ( window.orientation > 0) { //clockwise
                     $(document.body).css("-webkit-transform-origin", "200px 190px")
                       .css("-webkit-transform",  "rotate(-90deg)");  
                   }
                   else {
                     $(document.body).css("-webkit-transform-origin", "280px 190px")
                       .css("-webkit-transform",  "rotate(90deg)"); 
                   }
               }
           })
          .trigger('orientationchange'); 
});
	var $pointer = $('.pointer span');
	var flipsnap = Flipsnap('.flipsnap', {
		distance: 620
	});
	flipsnap.element.addEventListener('fspointmove', function() {
		$pointer.filter('.current').removeClass('current');
		$pointer.eq(flipsnap.currentPoint).addClass('current');
	}, false);

	// animation
	flipsnap.element.addEventListener('fstouchend', function(ev) {
    var iPage = JSON.stringify(ev.newPoint);
    console.log(iPage);
    if( iPage >= 5){
    	$('.pointer').hide()
    }else{
    	$('.pointer').show()
    };
    for (i = 0; i < 5; i++) {
        if( iPage == i){
    		$('.intro0'+i).addClass('introani');
        }	
    }
    if( iPage == 0){
    		$('.item').removeClass('introani');
    };
    if( iPage == 5){
    	$('.ani01').addClass('oprani');
    }else{
    	$('.ani01').removeClass('oprani');
    };
    if( iPage == 6){
    	$('.ani02').addClass('shkani');
	window.addEventListener('shake', shakeEventDidOccur, false);	
	function shakeEventDidOccur () {	
		if (confirm("看來你已經準備好了。")) {
			$('.intro').remove();
			$('.entrance').show();
		}
	}
    }else{
    	$('.ani02').removeClass('shkani');
    }
    }, false);

</script>	
</body>
</html>